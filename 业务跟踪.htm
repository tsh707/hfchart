<!DOCTYPE html>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312"/>
<html>

    <head>
        <meta charset="UTF-8">
        <title>华风集团广告资源可视化平台</title>
        <script type="text/javascript" src="js/echarts.min.js"></script>
		<style>
			.divCenter{
                position: absolute;left: 10%;margin-top: -10px;margin-left: -20px;height: 2000px;
            }
		</style>
    </head>

    <body >
        <!-- 为ECharts准备一个具备大小（宽高）的Dom -->
		<!--div class="divCenter">福建省广告市场健康度一览</div-->
		<table>
			
			<tr>
				<td colspan=2><div id="mainAll" style="width:1000px;height:300px;margin-top: 10px;align:left"></div></td>
			</tr>
			
			<tr height="50px">
				<td colspan=2></td>
			</tr>
			<tr>
				<td colspan=2><div id="mainGroup" style="width:1000px;height:300px;margin-top: 10px;align:left"></div></td>
			</tr>
			
			

			<tr height="100px">
				<td colspan=2><HR style="FILTER: alpha(opacity=2,finishopacity=0,style=1)" width="100%" color=#E6E6E6 SIZE=3></td>
			</tr>
			<tr>
				<td colspan=2 style="color:blue">当月&nbsp&nbsp&nbsp&nbsp近2月&nbsp&nbsp&nbsp&nbsp近3月&nbsp&nbsp&nbsp&nbsp近半年&nbsp&nbsp&nbsp&nbsp近1年&nbsp&nbsp&nbsp&nbsp自定义</td>
			</tr>

			<tr>
				<td colspan=2><div id="mainPerson" style="width:1000px;height:270px;margin-top: 0px;align:left"></div></td>				
			</tr>
			<tr height="50px">
				<td colspan=2></td>
			</tr>
			<tr>
				<td><div id="mainPSuccess" style="width:400px;height:270px;margin-top: 0px;align:left">bb</div></td>
				<td><div id="mainPSource" style="width:400px;height:270px;margin-top: 0px;align:left">aa</div></td>
			</tr>
		</table>
        
		
        <script type="text/javascript">
            var chartAll = echarts.init(document.getElementById('mainAll'));
			var labelAllTop = {//上层样式
				normal : {
					color :'#0099cc',
					label : {
						show : true,
						position : 'center',
						formatter : '{b}',
						textStyle: {
							baseline : 'bottom',
							fontSize:26
						}
					},
					labelLine : {
						show : false
					}
				}
			};
			var labelSubTop = {//上层样式
				normal : {
					color :'#0099ff',
					label : {
						show : true,
						position : 'center',
						formatter : '{b}',
						textStyle: {
							baseline : 'bottom',
							fontSize:13
						}
					},
					labelLine : {
						show : false
					}
				}
			};
			
			var labelFromatter = {//环内样式
				normal : {//默认样式
					label : {//标签
						formatter : function (a,b,c){return 100 - c + '%'},
						// labelLine.length：30,  //线长，从外边缘起计算，可为负值
						textStyle: {//标签文本样式
							color:'black',
							align :'center',
							baseline : 'top'//垂直对其方式
						}
					}
				},
			};
			var labelBottom = {//底层样式
				normal : {
					color: '#99ccff',
					label : {
						show : true,
						position : 'center',
						fontSize:22
					},
					labelLine : {
						show : false
					}
				},
				emphasis: {//悬浮式样式
					color: 'rgba( 0,0,0,0)'
				}
			};

			var optionAll = {
				title : {
					text: '销售进度',
					subtext: '',
					x:'left'/*,
					//正标题样式
					textStyle: {
						fontSize:44,
						fontFamily:'Arial',
						fontWeight:100,
						//color:'#1a4eb0',
					},
					//副标题样式
					subtextStyle: {
						fontSize:28,
						fontFamily:'Arial',
						color:"#1a4eb0",
					},*/
				},
				animation:false,
				tooltip : {         // 提示框. Can be overwrited by series or data
					trigger: 'axis',
					//show: true,   //default true
					showDelay: 0,
					hideDelay: 50,
					transitionDuration:0,
					borderRadius : 8,
					borderWidth: 2,
					padding: 10,    // [5, 10, 15, 20]
				},
				series : [
					{
						type : 'pie',
						center : ['51%', '50%'],//圆心坐标（div中的%比例）
						radius : [80,122],// 半径[内半径，外半径]
						x: '0%', // for funnel
						itemStyle : labelAllTop,//graphStyleA,//图形样式 // 当查到的数据不存在（并非为0），此属性隐藏
						data : [
							{name:'总体完成率', value:79,itemStyle : labelAllTop},
							{name:'79%', value:21, itemStyle : labelBottom}
						]
					},
					{
						type : 'pie',
						center : ['20%', '25%'],//圆心坐标（div中的%比例）
						radius : [50,71],// 半径[内半径，外半径]
						x: '0%', // for funnel
						itemStyle : labelSubTop,//graphStyleA,//图形样式 // 当查到的数据不存在（并非为0），此属性隐藏
						data : [
							{name:'A组完成率', value:66,itemStyle : labelSubTop},
							{name:'66%', value:34, itemStyle : labelBottom}
						]
					},
					{
						type : 'pie',
						center : ['84%', '25%'],//圆心坐标（div中的%比例）
						radius : [50,71],// 半径[内半径，外半径]
						x: '0%', // for funnel
						itemStyle : labelSubTop,//graphStyleA,//图形样式 // 当查到的数据不存在（并非为0），此属性隐藏
						data : [
							{name:'B组完成率', value:70,itemStyle : labelSubTop},
							{name:'70%', value:30, itemStyle : labelBottom}
						]
					},
					{
						type : 'pie',
						center : ['20%', '75%'],//圆心坐标（div中的%比例）
						radius : [50,71],// 半径[内半径，外半径]
						x: '0%', // for funnel
						itemStyle : labelSubTop,//graphStyleA,//图形样式 // 当查到的数据不存在（并非为0），此属性隐藏
						data : [
							{name:'C组完成率', value:85,itemStyle : labelSubTop},
							{name:'85%', value:15, itemStyle : labelBottom}
						]
					},
					{
						type : 'pie',
						center : ['84%', '75%'],//圆心坐标（div中的%比例）
						radius : [50,71],// 半径[内半径，外半径]
						x: '0%', // for funnel
						itemStyle : labelSubTop,//graphStyleA,//图形样式 // 当查到的数据不存在（并非为0），此属性隐藏
						data : [
							{name:'D组完成率', value:80,itemStyle : labelSubTop},
							{name:'80%', value:20, itemStyle : labelBottom}
						]
					}
				]
			};
			chartAll.setOption(optionAll);
			
			
			var chartGroup = echarts.init(document.getElementById('mainGroup'));
			optionGroup={
				title : {
					text: '各组销售额占比',
					subtext: '',
					x:'left'
				},
				tooltip : {
					trigger: 'item',
					formatter: "{a} <br/>{b} : {c} ({d}%)"
				},
				legend: {
					x:'center',
					y : 'bottom',
					data:['A组','B组','C组','D组']
				},
				/*toolbox: {
					show : true,
					feature : {
						mark : {show: true},
						dataView : {show: true, readOnly: false},
						magicType : {
							show: true, 
							type: ['pie', 'funnel'],
							option: {
								funnel: {
									x: '25%',
									width: '50%',
									funnelAlign: 'left',
									max: 1548
								}
							}
						},
						restore : {show: true},
						saveAsImage : {show: true}
					}
				},*/
				calculable : true,
				series : [
					{
						radius: '65%',
						name:'组别',
						type:'pie',
						itemStyle : { 
							normal: {
								color:'#0099cc',
								label : {show: true, position: 'inside',formatter:'{c}%'},
								color: function(params) {
									var colorList = [     //柱子颜色
										'#3366ff','#3399ff','#33ccff','#33ffff'
									];
									return colorList[params.dataIndex]
								}
							}
						},
						data:[
							{value:45, name:'A组'},
							{value:20, name:'B组'},
							{value:18, name:'C组'},
							{value:17, name:'D组'}
						]

					}
				]
			};
			chartGroup.setOption(optionGroup);
			
			
			var chartPerson = echarts.init(document.getElementById('mainPerson'));
			var xAxisData = ['庆**','吴**','张**','王**','李**','刘**','何**'];
			var data = [96, 88,82,71,  67, 55, 39];
			
			optionPerson = {
				title: {
					text: '资源锁定成功率分析',
					textStyle: { // 其余属性默认使用全局文本样式，详见TEXTSTYLE
                            fontWeight: 'bolder',
                            fontSize: 20,
                            fontStyle: 'italic',
                            //color: '#fff',
                            shadowColor: '#fff', //默认透明
                            shadowBlur: 10
                        }
				},
				xAxis: [{
					data: xAxisData.map(function(x){
						if(x == "5月11日")return " ";
						return x;
					}),
					splitLine: {
						show: false
					}
				}, {
					// 辅助 x 轴
					show: false,
					data: xAxisData.map(function(x){
						if(x == "5月11日")return " ";
						return x;
					})
				}],
				yAxis: {
					max: 100,
					axisLine: {
						show: false,
						lineStyle:{
									//color:'#FFF'
								}
					}
				},
				series: [
					{
						// 辅助系列
						type           : 'bar',
						silent         : true,
						xAxisIndex     : 1,
						itemStyle      : {
							normal         : {
								barBorderRadius: 20,
								color          : '#66ccff'      
							}
						},
						barWidth: 40,
						data: data.map(function (val) {
								return 100;
							})
					},
					{
						type: 'bar',
						data: data, 
						markLine : {
							itemStyle:{
							   normal:{
								   color:'#333399',
								   lineStyle:{
									   width:2,
									   type:'dotted'  //'dotted'虚线 'solid'实线
								   }
							   }
						   }, 
							data : [
								{type : 'average', name: '平均值'}
							]
						},
						barWidth: 40,
						itemStyle: {
							normal: {
								barBorderRadius: [20, 20, 0, 0],
								color          : '#0099cc',
								label : {show: true, position: 'inside',formatter:'{c}%'}
							}
						}
					}
				]
			};
			chartPerson.setOption(optionPerson);
			
			var chartPSuccess = echarts.init(document.getElementById('mainPSuccess'));
			optionPSuccess={
				title : {
					text: '销售机会分析',
					subtext: '',
					x:'left'
				},
				tooltip : {
					trigger: 'axis',
					axisPointer : {            // 坐标轴指示器，坐标轴触发有效
						type : 'shadow'        // 默认为直线，可选为：'line' | 'shadow'
					}
				},
				legend: {
					data:['成交金额', '机会金额'],
					y: 'bottom'
				},
				calculable : true,
				xAxis : [
					{
						type : 'category',
						data : ['庆**','吴**','张**','王**','李**','刘**','何**']
					}
				],
				yAxis : [
					{
						name: '金额(万元)',
						type : 'value'/*,
						axisLabel: {
							formatter: '{value} %'
						}*/
					}
				],
				series : [
					{
						name:'成交金额',
						type:'bar',
						stack: '总量',
						itemStyle : { normal: {color:'#0099cc',label : {show: true, position: 'inside'}}},
						data:[96,88,82,111,67,89,39 ],
						markLine : {
							itemStyle:{
							   normal:{
								   color:'#333399',
								   lineStyle:{
									   width:2,
									   type:'dotted'  //'dotted'虚线 'solid'实线
								   }
							   }
						   }, 
							data : [
								{type : 'average', name: '平均值'}
							]
						}
					},
					{
						name:'机会金额',
						type:'bar',
						stack: '总量',
						itemStyle : { normal: {color:'#99ccff',label : {show: true, position: 'inside'}}},
						data:[24, 42,18,29,23,45,27 ]
					}
				]
			};
			chartPSuccess.setOption(optionPSuccess);
			
			var chartPSource = echarts.init(document.getElementById('mainPSource'));
			optionPSource={
				title : {
					text: '资源锁定金额及成功转化率分析',
					subtext: '',
					x:'left'
				},
				tooltip: {
					trigger: 'axis',
					axisPointer: {
						type: 'cross',
						crossStyle: {
							color: '#999'
						}
					}
				},
				legend: {
					y: 'bottom',
					data:['资源锁定金额','成功率']
				},
				xAxis: [
					{
						type: 'category',
						axisLine: {onZero: true},
						data: ['庆**','吴**','张**','王**','李**','刘**','何**'],
						axisPointer: {
							type: 'shadow'
						}
					}
				],
				yAxis: [
					{
						type: 'value',
						name: '资源锁定金额',
						axisLabel: {
							formatter: '{value} '
						}
					},
					{
						type: 'value',
						name: '成功率',
						min: 0,
						max: 100,
						interval: 10,
						axisLabel: {
							formatter: '{value} %'
						}
					}
				],
				series: [
					{
						name:'资源锁定金额',
						type:'bar',
						itemStyle : { normal: {color:'#0099cc'}},
						data:[413,222,410,430,177,510,449.3]
					},
					{
						name:'成功率',
						type:'line',
						yAxisIndex: 1,
						data:[73.3,21.8,28.4,48.8,89.3,69.2,11.9]
					}
				]
			};
			chartPSource.setOption(optionPSource);
        </script>
		<!--div><a href="#" onclick="SetVal()">下一月</a></div-->
    </body>

</html>