<!DOCTYPE html>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312"/>
<html>

    <head>
        <meta charset="UTF-8">
        <title>华风集团广告资源可视化平台</title>
        <script type="text/javascript" src="js/echarts.min.js"></script>
		<style>
			.divCenter{
                position: absolute;left: 10%;margin-top: -10px;margin-left: -20px;height: 2000px;
            }
		</style>
    </head>
	
    <div id="mainMTrend" style="width:960px;height:350px"></div>	
    <div id="mainQMedium" style="width:960px;height:350px"></div>
	<div id="mainYTrend" style="width:960px;height:350px"></div>
	<table>
		<tr>
			<td><div id="mainSaleType" style="width:490px;height:350px;margin-top:30px"></div></td>
			<td><div id="mainMMedium" style="width:490px;height:350px;margin-top:30px"></div></td>			
		</tr>
	</table>
	<div id="mainAccount" style="width:960px;height:350px;margin-top:30px"></div>
	
	
        <script type="text/javascript">

			var myChartYTrend = echarts.init(document.getElementById("mainYTrend"));
			var myChartMTrend = echarts.init(document.getElementById("mainMTrend"));
			var myChartQMedium = echarts.init(document.getElementById("mainQMedium"));
			var myChartMMedium = echarts.init(document.getElementById("mainMMedium"));
			var myChartSaleType = echarts.init(document.getElementById("mainSaleType"));
			var myChartAccount = echarts.init(document.getElementById("mainAccount"));
			var app = {};
			app.title = '销售分布';			
			
			optionYTrend = {
				title: {
					text: '年度销售趋势',
					//x:'center',
					subtext: '数据纯属虚构'
				},
				tooltip: {
					trigger: 'axis',
					axisPointer: {
						type: 'cross',
						crossStyle: {
							color: '#999'
						}
					}
				},
				toolbox: {
					feature: {
						dataView: {show: true, readOnly: false},
						magicType: {show: true, type: ['line', 'bar']},
						restore: {show: true},
						saveAsImage: {show: true}
					}
				},
				legend: {
					y: 'bottom',
					data:['销售额','环比增长率']
				},
				xAxis: [
					{
						type: 'category',
						axisLine: {onZero: true},
						data: ['2011','2012','2013','2014','2015','2016','2017','2018'],
						axisPointer: {
							type: 'shadow'
						}
					}
				],
				yAxis: [
					{
						type: 'value',
						name: '销售额',
						min: 380,
						max: 550,
						interval: 50,
						axisLabel: {
							formatter: '{value} 千万元'
						}
					},
					{
						type: 'value',
						name: '增长率',
						min: -20,
						max: 20,
						interval: 5,
						axisLabel: {
							formatter: '{value} %'
						}
					}
				],
				series: [
					{
						name:'销售额',
						type:'bar',
						data:[413,422,410,430,477,510,449.3,486]
					},
					{
						name:'环比增长率',
						type:'line',
						yAxisIndex: 1,
						data:[0.73,2.18,-2.84,4.88,10.93,6.92,-11.90,8.17]
					}
				]
			};
			
	
			optionMTrend = {
				title: {
					text: '当年分月销售趋势',
					//x:'center',
					subtext: '数据纯属虚构'
				},
				tooltip: {
					trigger: 'axis',
					axisPointer: {
						type: 'cross',
						crossStyle: {
							color: '#999'
						}
					}
				},
				toolbox: {
					feature: {
						dataView: {show: true, readOnly: false},
						magicType: {show: true, type: ['line', 'bar']},
						restore: {show: true},
						saveAsImage: {show: true}
					}
				},
				legend: {
					y: 'bottom',
					data:['销售额','同比增长率','环比增长率']
				},
				xAxis: [
					{
						type: 'category',
						axisLine: {onZero: true},
						data: ['1月','2月','3月','4月','5月','6月','7月','8月','9月','10月','11月','12月'],
						axisPointer: {
							type: 'shadow'
						}
					}
				],
				yAxis: [
					{
						type: 'value',
						name: '销售额',
						min: 0,
						max: 250,
						interval: 50,
						axisLabel: {
							formatter: '{value} 百万元'
						}
					},
					{
						type: 'value',
						name: '增长率',
						min: -100,
						max: 200,
						interval: 50,
						axisLabel: {
							formatter: '{value} %'
						}
					}
				],
				series: [
					{
						name:'销售额',
						type:'bar',
						data:[2.0, 3.9, 7.0, 16.7, 25.6, 70.7, 135.6, 162.2, 32.6, 20.0, 6.4, 3.3]
					},
					{
						name:'同比增长率',
						type:'line',
						yAxisIndex: 1,
						data:[-10.00,-10.26,-14.29,-10.18,-10.16,0.42,-18.88,-16.77,53.37,15.00,9.37,21.21]
					},
					{
						name:'环比增长率',
						type:'line',
						yAxisIndex: 1,
						data:[66.67,95.00,74.49,138.57,53.29,176.17,91.80,19.62,-79.90,-38.65,-68.00,-48.44]
					}
				]
			};

			
			optionQMedium = {
				title : {
					text: '各媒介季度成本/利润分布图',
					//x:'center',
					subtext: '数据纯属虚构'
				},
				tooltip : {
					trigger: 'axis'
				},
				legend: {
					x:'center',
					//y:'30',
					y: 'bottom',
					data:['电视利润','广播利润','网站利润','手机利润','电视成本','广播成本','网站成本','手机成本','平均利润']
				},
				toolbox: {
					show : true,
					feature : {
						dataView : {show: true, readOnly: false},
						magicType : {show: true, type: ['line', 'bar']},
						restore : {show: true},
						saveAsImage : {show: true}
					}
				},
				calculable : true,
				xAxis : [
					{
						type : 'category',
						data : ['第一季度','第二季度','第三季度','第四季度']
					}
				],
				yAxis : [
					{
						type : 'value'
					}
				],
				series : [
					{
						name:'平均利润',
						type:'line',
						data:[19.1,168.2,422.48,"-"]
					},
					{
						name:'平均利润',
						type:'line',
						smooth:false,   //关键点，为true是不支持虚线，实线就用true
					   itemStyle:{
						   normal:{
							   lineStyle:{
								   width:2,
								   type:'dotted'  //'dotted'虚线 'solid'实线
							   }
						   }
					   }, 
						data:["-","-",422.48,470.5]
					},
					{
						name:'电视成本',
						type:'bar',
						data:[8, 35.6,125,53],
						stack:'电视'
					},
					{
						name:'电视利润',
						type:'bar',
						data:[43.9, 425.5,730.4,549.7],
						markPoint : {
							data : [
								{type : 'max', name: '最大值'},
								{type : 'min', name: '最小值'}
							]
						},
						markLine : {
							data : [
								{type : 'average', name: '平均值'}
							]
						},
						stack:'电视'
					},
					{
						name:'电台成本',
						type:'bar',
						data:[5.1,22.3,79,5.7],
						stack:'电台'
					},
					{
						name:'电台利润',
						type:'bar',
						data:[17.5,125.8,406.5,327.1],
						markPoint : {
							data : [
								{name : '年最高', value : 406.5, xAxis: 2, yAxis: 407},
								{name : '年最低', value : 17.5, xAxis: 0, yAxis: 18}
							]
						},
						markLine : {
							data : [
								{type : 'average', name : '平均值'}
							]
						},
						stack:'电台'
					},
					{
						name:'网站成本',
						type:'bar',
						data:[4.5,4.9,12.3,3],
						stack:'网站'
					},
					{
						name:'网站利润',
						type:'bar',
						data:[9.5,85.8,216.5,114.1],
						markPoint : {
							data : [
								{name : '年最高', value : 216.5, xAxis: 2, yAxis: 217},
								{name : '年最低', value : 9.5, xAxis: 0, yAxis: 10}
							]
						},
						markLine : {
							data : [
								{type : 'average', name : '平均值'}
							]
						},
						stack:'网站'
					},
					{
						name:'WAP成本',
						type:'bar',
						data:[0.4,3.8,16,2.3],
						stack:'WAP'
					},
					{
						name:'WAP利润',
						type:'bar',
						data:[5.5,35.8,136.5,111.1],
						markPoint : {
							data : [
								{name : '年最高', value : 136.5, xAxis: 2, yAxis: 137},
								{name : '年最低', value : 5.5, xAxis: 0, yAxis: 6}
							]
						},
						markLine : {
							data : [
								{type : 'average', name : '平均值'}
							]
						},
						stack:'WAP'
					}
				]
			};
			
			
			var weatherIcons = {
					'TV': './img/tv.png',
					'RD': './img/rd.png',
					'Net': './img/net.png',
					'Mobile': './img/mobile.png'
				};

			optionMMedium = {
					title: {
						text: '媒介分布分析',
						subtext: '虚构数据',
						left: 'center'
					},
					tooltip : {
						trigger: 'item',
						formatter: "{a} <br/>{b} : {c} ({d}%)"
					},
					legend: {
						// orient: 'vertical',
						// top: 'middle',
						bottom: 10,
						left: 'center',
						data: ['电视', '广播','网站','手机','组合营销']
					},
					series : [
						{
							type: 'pie',
							radius : '55%',
							center: ['40%', '40%'],
							selectedMode: 'single',
							data:[
								{
									value:1548,
									name: '组合营销',
									label: {
										normal: {
											formatter: [
												'{title|{b}}{abg|}',
												'  {weatherHead|媒介}{valueHead|销售额}{rateHead|占比}',
												'{hr|}',
												'  {TV|}{value|202}{rate|55.3%}',
												'  {RD|}{value|142}{rate|38.9%}',
												'  {Net|}{value|21}{rate|5.8%}',
												'  {Mobile|}{value|21}{rate|5.8%}'
											].join('\n'),
											backgroundColor: '#eee',
											borderColor: '#777',
											borderWidth: 1,
											borderRadius: 4,
											rich: {
												title: {
													color: '#eee',
													align: 'center'
												},
												abg: {
													backgroundColor: '#333',
													width: '100%',
													align: 'right',
													height: 25,
													borderRadius: [4, 4, 0, 0]
												},
												TV: {
													height: 30,
													align: 'left',
													backgroundColor: {
														image: weatherIcons.TV
													}
												},
												RD: {
													height: 30,
													align: 'left',
													backgroundColor: {
														image: weatherIcons.RD
													}
												},
												Net: {
													height: 30,
													align: 'left',
													backgroundColor: {
														image: weatherIcons.Net
													}
												},
												Mobile: {
													height: 30,
													align: 'left',
													backgroundColor: {
														image: weatherIcons.Mobile
													}
												},
												weatherHead: {
													color: '#333',
													height: 24,
													align: 'left'
												},
												hr: {
													borderColor: '#777',
													width: '100%',
													borderWidth: 0.5,
													height: 0
												},
												value: {
													width: 20,
													padding: [0, 20, 0, 30],
													align: 'left'
												},
												valueHead: {
													color: '#333',
													width: 20,
													padding: [0, 20, 0, 30],
													align: 'center'
												},
												rate: {
													width: 40,
													align: 'right',
													padding: [0, 10, 0, 0]
												},
												rateHead: {
													color: '#333',
													width: 40,
													align: 'center',
													padding: [0, 10, 0, 0]
												}
											}
										}
									}
								},
								{value:535, name: '电视'},
								{value:510, name: '广播'},
								{value:634, name: '网站'},
								{value:735, name: '手机'}
							],
							itemStyle: {
								emphasis: {
									shadowBlur: 10,
									shadowOffsetX: 0,
									shadowColor: 'rgba(0, 0, 0, 0.5)'
								}
							}
						}
					]
				};

				
			optionSaleType = {
					title: {
						text: '营销渠道分析',
						subtext: '虚构数据',
						left: 'center'
					},
					tooltip : {
						trigger: 'item',
						formatter: "{a} <br/>{b} : {c} ({d}%)"
					},
					legend: {
						// orient: 'vertical',
						// top: 'middle',
						bottom: 10,
						left: 'center',
						data: ['自营销', '关联营销']
					},
					series : [
						{
							type: 'pie',
							radius : '55%',
							center: ['40%', '40%'],
							selectedMode: 'single',
							data:[
								{
									value:548,
									name: '关联营销',
									label: {
										normal: {
											formatter: [
												'{title|{b}}{abg|}',
												'  {weatherHead|单位}{valueHead|销售额}{rateHead|占比}',
												'{hr|}',
												'  {北京局}{value|202}{rate|55.3%}',
												'  {河北局}{value|142}{rate|38.9%}',
												'  {江苏局}{value|21}{rate|5.8%}',
												'  {陕西局}{value|21}{rate|5.8%}'
											].join('\n'),
											backgroundColor: '#eee',
											borderColor: '#777',
											borderWidth: 1,
											borderRadius: 4,
											rich: {
												title: {
													color: '#eee',
													align: 'center'
												},
												abg: {
													backgroundColor: '#333',
													width: '100%',
													align: 'right',
													height: 25,
													borderRadius: [4, 4, 0, 0]
												},
												TV: {
													height: 30,
													align: 'left',
													backgroundColor: {
														image: weatherIcons.TV
													}
												},
												RD: {
													height: 30,
													align: 'left',
													backgroundColor: {
														image: weatherIcons.RD
													}
												},
												Net: {
													height: 30,
													align: 'left',
													backgroundColor: {
														image: weatherIcons.Net
													}
												},
												Mobile: {
													height: 30,
													align: 'left',
													backgroundColor: {
														image: weatherIcons.Mobile
													}
												},
												weatherHead: {
													color: '#333',
													height: 24,
													align: 'left'
												},
												hr: {
													borderColor: '#777',
													width: '100%',
													borderWidth: 0.5,
													height: 0
												},
												value: {
													width: 20,
													padding: [0, 20, 0, 30],
													align: 'left'
												},
												valueHead: {
													color: '#333',
													width: 20,
													padding: [0, 20, 0, 30],
													align: 'center'
												},
												rate: {
													width: 40,
													align: 'right',
													padding: [0, 10, 0, 0]
												},
												rateHead: {
													color: '#333',
													width: 40,
													align: 'center',
													padding: [0, 10, 0, 0]
												}
											}
										}
									}
								},
								{value:1535, name: '自营销'}
							],
							itemStyle: {
								emphasis: {
									shadowBlur: 10,
									shadowOffsetX: 0,
									shadowColor: 'rgba(0, 0, 0, 0.5)'
								}
							}
						}
					]
				};
			
			
				var actualData1 = [ 8, 9, 10, 16, 15, 7]; //实际值
				var warningData1 = [ 10, 10, 10, 10, 10, 10]; //预警值
				
				var actualData2 = [ 28, 19, 10, 26, 25, 17]; //实际值
				var warningData2 = [ 20, 20, 20, 20, 20, 20]; //预警值
				
				var actualData3 = [ 8, 21, 10, 22, 7, 10]; //实际值
				var warningData3 = [ 15, 15, 15, 15, 15, 15]; //预警值
				
				var actualData4 = [ 16, 12, 13, 15, 7, 8]; //实际值
				var warningData4 = [ 18, 18, 18, 18, 18, 18]; //预警值
				
				var actualData5 = [ 9, 5, 5, 5, 7, 10]; //实际值
				var warningData5 = [ 8, 8, 8, 8, 8, 8]; //预警值
				
				optionAccount = {
					tooltip: {
						trigger: 'axis',
					},
					title: {
						text: '各账户溢满情况',
						subtext: ''
					},
					legend: {
						x: 'center',
						y: 'bottom',
						data: ['账户A', '账户A上限','账户B', '账户B上限','账户C', '账户C上限','账户D', '账户D上限','账户E', '账户E上限'],
						/*selected: {
							'账户B': false,
							'账户B上限': false,
							'账户C': false,
							'账户C上限': false,
							'账户D': false,
							'账户D上限': false,
							'账户E': false,
							'账户E上限':false
						}*/

					},
					/*grid: [{
						top: '10%',
						left: '30%',
						width: '50%',
						height: '40%',
						containLabel: false,
					}],*/
					xAxis: [{
						type: 'category',
						name: '月份',
						data: [ '6月', '7月', '8月', '9月', '10月', '11月'],
					}],
					yAxis: [{
						type: 'value',
						name: '金额',
					}],
					series: [{
							name: '账户A',
							type: 'bar',
							//barWidth: 40,
							itemStyle: {
								normal: { //这里必须加normal,否者不显示夜色变化
									color: function(params) {//超过预警值显示红色
										if (actualData1[params.dataIndex] > warningData1[params.dataIndex]) {
											return '#FF3300';
										} else {
											return '#FF9900';
										}
									}
								}
							},
							data: actualData1
						},
						{
							name: '账户A上限',
							type: 'line',
							data: warningData1,
							itemStyle: {
								normal: {
									color: '#FF9900'
								}
							}
						},
						{
							name: '账户B',
							type: 'bar',
							//barWidth: 40,
							itemStyle: {
								normal: { //这里必须加normal,否者不显示夜色变化
									color: function(params) {//超过预警值显示红色
										if (actualData2[params.dataIndex] > warningData2[params.dataIndex]) {
											return '#99FF00';
										} else {
											return '#00FF66';
										}
									}
								}
							},
							data: actualData2
						},
						{
							name: '账户B上限',
							type: 'line',
							data: warningData2,
							itemStyle: {
								normal: {
									color: '#00FF66'
								}
							}
						},
						{
							name: '账户C',
							type: 'bar',
							//barWidth: 40,
							itemStyle: {
								normal: { //这里必须加normal,否者不显示夜色变化
									color: function(params) {//超过预警值显示红色
										if (actualData3[params.dataIndex] > warningData3[params.dataIndex]) {
											return '#0000FF';
										} else {
											return '#00CCFF';
										}
									}
								}
							},
							data: actualData3
						},
						{
							name: '账户C上限',
							type: 'line',
							data: warningData3,
							itemStyle: {
								normal: {
									color: '#00CCFF'
								}
							}
						},
						{
							name: '账户D',
							type: 'bar',
							//barWidth: 40,
							itemStyle: {
								normal: { //这里必须加normal,否者不显示夜色变化
									color: function(params) {//超过预警值显示红色
										if (actualData4[params.dataIndex] > warningData4[params.dataIndex]) {
											return '#3300FF';
										} else {
											return '#0099FF';
										}
									}
								}
							},
							data: actualData4
						},
						{
							name: '账户D上限',
							type: 'line',
							data: warningData4,
							itemStyle: {
								normal: {
									color: '#0099FF'
								}
							}
						},
						{
							name: '账户E',
							type: 'bar',
							//barWidth: 40,
							itemStyle: {
								normal: { //这里必须加normal,否者不显示夜色变化
									color: function(params) {//超过预警值显示红色
										if (actualData5[params.dataIndex] > warningData5[params.dataIndex]) {
											return '#FF0066';
										} else {
											return '#FF00FF';
										}
									}
								}
							},
							data: actualData5
						},
						{
							name: '账户E上限',
							type: 'line',
							data: warningData5,
							itemStyle: {
								normal: {
									color: '#FF00FF'
								}
							}
						}
					]
				};
			
			//myChart2 = echarts.init(document.getElementById('main2'));
			myChartYTrend.setOption(optionYTrend);
			myChartMTrend.setOption(optionMTrend);
			myChartQMedium.setOption(optionQMedium);
			myChartSaleType.setOption(optionSaleType);
			myChartMMedium.setOption(optionMMedium);
			myChartAccount.setOption(optionAccount);
			




        </script>
		<!--div><a href="#" onclick="SetVal()">下一月</a></div-->
    </body>

</html>